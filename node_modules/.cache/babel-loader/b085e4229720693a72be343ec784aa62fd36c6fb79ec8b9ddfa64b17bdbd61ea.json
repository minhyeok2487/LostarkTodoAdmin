{"ast":null,"code":"import _slicedToArray from\"/Users/minhyeok/Desktop/LostarkTodoAdmin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Paper,Table,TableBody,TableCell,TableContainer,TableHead,TablePagination,TableRow,Modal,Button,Typography}from\"@mui/material\";import{call}from\"../service/ApiService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Muitable=function Muitable(){var columns=[{id:'id',name:'Id'},{id:'lostarkMarketId',name:'lostarkMarketId'},{id:'name',name:'name'},{id:'categoryCode',name:'categoryCode'},{id:'grade',name:'grade'},{id:'bundleCount',name:'bundleCount'},{id:'ydayAvgPrice',name:'ydayAvgPrice'},{id:'currentMinPrice',name:'currentMinPrice'},{id:'recentPrice',name:'recentPrice'},{id:'lastModifiedDate',name:'recentPrice'}];var handlechangepage=function handlechangepage(event,newpage){pagechange(newpage);};var handleRowsPerPage=function handleRowsPerPage(event){rowperpagechange(+event.target.value);pagechange(0);};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],rowchange=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],pagechange=_useState4[1];var _useState5=useState(20),_useState6=_slicedToArray(_useState5,2),rowperpage=_useState6[0],rowperpagechange=_useState6[1];useEffect(function(){call(\"/api/db/markets\",\"GET\",null).then(function(response){rowchange(response);});},[]);// 모달 열기/닫기 상태 관리\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),openModal=_useState8[0],setOpenModal=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),modalContent=_useState10[0],setModalContent=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),modalTitle=_useState12[0],setModalTitle=_useState12[1];// 모달 열기 함수\nvar openContentModal=function openContentModal(title,content){setModalTitle(title);setModalContent(content);setOpenModal(true);};// 모달 닫기 함수\nvar closeContentModal=function closeContentModal(){setOpenModal(false);setModalTitle(\"\");setModalContent(\"\");};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(Paper,{sx:{width:'90%',marginLeft:'5%',marginTop:'1%'},children:[/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:columns.map(function(column){return/*#__PURE__*/_jsx(TableCell,{children:column.name},column.id);})})}),/*#__PURE__*/_jsx(TableBody,{children:rows&&rows.slice(page*rowperpage,page*rowperpage+rowperpage).map(function(row){return/*#__PURE__*/_jsx(TableRow,{children:columns&&columns.map(function(column,i){var value=row[column.id];return/*#__PURE__*/_jsx(TableCell,{children:value.length>20?/*#__PURE__*/_jsxs(_Fragment,{children:[value.substring(0,20),\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return openContentModal(column.name,value);},children:\"\\uB354\\uBCF4\\uAE30\"})]}):value},column.id);})},row.id);})})]})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[20,40,60],rowsPerPage:rowperpage,page:page,count:rows.length,component:\"div\",onPageChange:handlechangepage,onRowsPerPageChange:handleRowsPerPage})]}),/*#__PURE__*/_jsx(Modal,{open:openModal,onClose:closeContentModal,\"aria-labelledby\":\"modal-title\",\"aria-describedby\":\"modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",backgroundColor:\"white\",padding:\"20px\",width:\"400px\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",id:\"modal-title\",children:modalTitle}),/*#__PURE__*/_jsx(\"pre\",{style:{whiteSpace:\"pre-wrap\",wordWrap:\"break-word\"},children:modalContent})]})})]});};export default Muitable;","map":{"version":3,"names":["React","useState","useEffect","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Modal","Button","Typography","call","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Muitable","columns","id","name","handlechangepage","event","newpage","pagechange","handleRowsPerPage","rowperpagechange","target","value","_useState","_useState2","_slicedToArray","rows","rowchange","_useState3","_useState4","page","_useState5","_useState6","rowperpage","then","response","_useState7","_useState8","openModal","setOpenModal","_useState9","_useState10","modalContent","setModalContent","_useState11","_useState12","modalTitle","setModalTitle","openContentModal","title","content","closeContentModal","style","textAlign","children","sx","width","marginLeft","marginTop","map","column","slice","row","i","length","substring","onClick","rowsPerPageOptions","rowsPerPage","count","component","onPageChange","onRowsPerPageChange","open","onClose","position","top","left","transform","backgroundColor","padding","overflowY","variant","whiteSpace","wordWrap"],"sources":["/Users/minhyeok/Desktop/LostarkTodoAdmin/src/components/Market.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Paper, Table, TableBody, TableCell, \n    TableContainer, TableHead, TablePagination, TableRow\n    ,Modal, Button, Typography } from \"@mui/material\";\nimport { call } from \"../service/ApiService\";\n\nconst Muitable = () => {\n    const columns = [\n        { id: 'id', name: 'Id' },\n        { id: 'lostarkMarketId', name: 'lostarkMarketId' },\n        { id: 'name', name: 'name' },\n        { id: 'categoryCode', name: 'categoryCode' },\n        { id: 'grade', name: 'grade' },\n        { id: 'bundleCount', name: 'bundleCount' },\n        { id: 'ydayAvgPrice', name: 'ydayAvgPrice' },\n        { id: 'currentMinPrice', name: 'currentMinPrice' },\n        { id: 'recentPrice', name: 'recentPrice' },\n        { id: 'lastModifiedDate', name: 'recentPrice' },\n    ]\n\n    const handlechangepage = (event, newpage) => {\n        pagechange(newpage)\n    }\n    const handleRowsPerPage = (event) => {\n        rowperpagechange(+event.target.value)\n        pagechange(0);\n    }\n\n    const [rows, rowchange] = useState([]);\n    const [page, pagechange] = useState(0);\n    const [rowperpage, rowperpagechange] = useState(20);\n\n    useEffect(() => {\n        call(\"/api/db/markets\", \"GET\", null).then((response) => {\n            rowchange(response);\n        });\n      }, []);\n\n\n    // 모달 열기/닫기 상태 관리\n    const [openModal, setOpenModal] = useState(false);\n    const [modalContent, setModalContent] = useState(\"\");\n    const [modalTitle, setModalTitle] = useState(\"\");\n\n    // 모달 열기 함수\n    const openContentModal = (title, content) => {\n        setModalTitle(title);\n        setModalContent(content);\n        setOpenModal(true);\n    };\n\n    // 모달 닫기 함수\n    const closeContentModal = () => {\n        setOpenModal(false);\n        setModalTitle(\"\");\n        setModalContent(\"\");\n    };\n\n    return (\n        <div style={{ textAlign: 'center' }}>\n            <Paper sx={{ width: '90%', marginLeft: '5%', marginTop: '1%' }}>\n                <TableContainer>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                {columns.map((column) => (\n                                    <TableCell key={column.id}>{column.name}</TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {rows && rows\n                                .slice(page * rowperpage, page * rowperpage + rowperpage)\n                                .map((row) => {\n                                    return (\n                                        <TableRow key={row.id}>\n                                            {columns && columns.map((column, i) => {\n                                                let value = row[column.id];\n                                                return (\n                                                    <TableCell key={column.id}>\n                                                        {value.length > 20 ? (\n                                                            <>\n                                                                {value.substring(0, 20)}{\" \"}\n                                                                <Button onClick={() => openContentModal(column.name, value)}>더보기</Button>\n                                                            </>\n                                                        ) : (\n                                                            value\n                                                        )}\n                                                    </TableCell>\n                                                );\n                                            })}\n                                        </TableRow>\n                                    )\n                                })}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[20, 40, 60]}\n                    rowsPerPage={rowperpage}\n                    page={page}\n                    count={rows.length}\n                    component=\"div\"\n                    onPageChange={handlechangepage}\n                    onRowsPerPageChange={handleRowsPerPage}\n\n                >\n                </TablePagination>\n            </Paper>\n\n            {/* 모달 */}\n            <Modal\n                open={openModal}\n                onClose={closeContentModal}\n                aria-labelledby=\"modal-title\"\n                aria-describedby=\"modal-description\"\n            >\n                <div style={{ \n                    position: \"absolute\", \n                    top: \"50%\", left: \"50%\", \n                    transform: \"translate(-50%, -50%)\", \n                    backgroundColor: \"white\", \n                    padding: \"20px\", width: \"400px\", overflowY: \"auto\" }}>\n                    <Typography variant=\"h6\" id=\"modal-title\">\n                        {modalTitle}\n                    </Typography>\n                    <pre style={{ whiteSpace: \"pre-wrap\", wordWrap: \"break-word\" }}>\n                        {modalContent}\n                    </pre>\n                </div>\n            </Modal>\n\n        </div>\n    );\n}\n\nexport default Muitable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}